{
  "permissions": {
    "allow": [
      "Bash(npx tsc:*)",
      "Bash(git add:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nfeat\\(dashboard\\): add V5 hybrid AI matcher for recommendations\n\nPerformance optimizations:\n- Add React.memo to Input, Textarea, Button components\n- Add useCallback to ProfileForm and CompanySearch handlers\n- Reduce unnecessary re-renders on form input\n\nV5 Hybrid Matcher implementation:\n- Create useRecommendedSubsidies hook with AI-powered scoring\n- Call enhanced-profile-conversation-stream edge function for recommendations\n- Extract profileMatches with successProbability from AI response\n- Fall back to client-side scoring when AI unavailable\n\nClient-side scoring algorithm \\(100 points max\\):\n- Region match \\(30pts\\): User''s region + National fallback\n- Sector match \\(25pts\\): NAF code/label + sector + categories\n- Project types \\(20pts\\): User interests vs subsidy keywords\n- Website intelligence \\(15pts\\): Innovation, sustainability, export scores\n- Timing \\(10pts\\): Deadline proximity sweet spot\n\nDashboard updates:\n- Show \"Score par IA\" indicator when AI scoring used\n- Display match reasons as purple badges on SubsidyCard\n- Show match percentage for high-confidence recommendations\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(npm run build:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nfeat\\(dashboard\\): enhance with dynamic tips, profile completion, and deadline alerts\n\n- Add dynamic tips based on user context \\(profile status, deadlines, saved subsidies\\)\n- Add profile completion percentage with progress bar\n- Add upcoming deadlines alert section \\(30-day window with urgent indicators\\)\n- Improve stats display with funding won highlight and success banner\n- Use getSubsidyTitle helper for proper multilingual title handling\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git commit:*)",
      "Bash(grep:*)",
      "Bash(curl:*)",
      "Bash(npx supabase functions deploy:*)",
      "Bash(PGPASSWORD=\"z42917XNAxzOog7m\" psql:*)",
      "Bash(npx supabase db push:*)",
      "Bash(npx supabase:*)",
      "Bash(node scripts/embed-masubventionpro-profiles.cjs:*)",
      "Bash(node -e \"require\\(''dotenv''\\).config\\(\\); console.log\\(''Key:'', process.env.OPENAI_API_KEY?.substring\\(0, 20\\) + ''...'' + process.env.OPENAI_API_KEY?.slice\\(-5\\)\\)\")",
      "Bash(node:*)",
      "Bash(xxd:*)",
      "Bash(python -c:*)",
      "Bash(npm run dev:*)",
      "Read(//d/**)",
      "Skill(db-stats)",
      "Skill(db-stats:*)",
      "Bash(SUPABASE_URL=\"https://gvfgvbztagafjykncwto.supabase.co\" SUPABASE_SERVICE_ROLE_KEY=\"$SUPABASE_SECRET_KEY_DATA_PROCESSING\" node:*)",
      "Bash(npm install:*)",
      "Bash(npm uninstall:*)",
      "Bash(npx vite build)",
      "Bash(./node_modules/.bin/tsc:*)",
      "Bash(tree:*)",
      "Bash(npx create-next-app@latest masubventionpro-next --typescript --tailwind --eslint --app --src-dir --import-alias \"@/*\" --use-npm --yes)",
      "Bash(copy \"d:\\\\GitHub\\\\masubventionpro\\\\public\\\\logo.svg\" \"d:\\\\GitHub\\\\masubventionpro-next\\\\public\"\" && copy \"d:GitHubmasubventionpropublicfavicon.svg\" \"d:GitHubmasubventionpro-nextpublic\"\")",
      "Bash(copy \"d:\\\\GitHub\\\\masubventionpro\\\\public\\\\logo-subvention360.webp\" \"d:\\\\GitHub\\\\masubventionpro-next\\\\public\"\" && copy \"d:GitHubmasubventionpropubliclogo-subvention360.png\" \"d:GitHubmasubventionpro-nextpublic\"\")",
      "Bash(copy \"d:\\\\GitHub\\\\masubventionpro\\\\public\\\\robots.txt\" \"d:\\\\GitHub\\\\masubventionpro-next\\\\public\"\" && copy \"d:GitHubmasubventionpropublicsitemap.xml\" \"d:GitHubmasubventionpro-nextpublic\"\")",
      "Bash(copy \"d:\\\\GitHub\\\\masubventionpro\\\\public\\\\llms.txt\" \"d:\\\\GitHub\\\\masubventionpro-next\\\\public\"\")",
      "Bash(xcopy:*)",
      "Bash(npm run lint:*)",
      "Bash(timeout:*)",
      "Bash(tasklist:*)",
      "Bash(findstr:*)",
      "Bash(dir:*)",
      "Bash(ls:*)",
      "Bash(supabase functions deploy:*)",
      "Bash(supabase functions list:*)",
      "Bash(supabase secrets:*)",
      "Bash(npx tsx:*)",
      "Bash( comm -23 /tmp/s360-logos.txt /tmp/msp-logos.txt)",
      "mcp__supabase__query",
      "Read(//c/Users/thoma/.claude/**)",
      "Read(//d/ClaudeData/.claude/**)",
      "Bash(find:*)",
      "Bash(gh search:*)",
      "Bash(powershell -Command \"\n$headers = @{\n    ''apikey'' = ''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inlic3Ftd3ZoeGx2c3Z0amtlbnV4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwOTY5MDcsImV4cCI6MjA2MzY3MjkwN30.lWA0i6puhrcVBrBoLH_0fpoeSdtTnWl6n_U_FjgY6WQ''\n    ''Prefer'' = ''count=exact''\n}\n\n# Total active\n$total = Invoke-RestMethod -Uri ''https://ybsqmwvhxlvsvtjkenux.supabase.co/rest/v1/subsidies?select=id&is_active=eq.true'' -Headers $headers\nWrite-Host ''Total active subsidies:'' $total.Count\n\n# National\n$national = Invoke-RestMethod -Uri ''https://ybsqmwvhxlvsvtjkenux.supabase.co/rest/v1/subsidies?select=id,title,region&is_active=eq.true&region=cs.{\"\"National\"\"}'' -Headers $headers\nWrite-Host ''National subsidies:'' $national.Count\n\n# Regional \\(not national\\)\n$regional = Invoke-RestMethod -Uri ''https://ybsqmwvhxlvsvtjkenux.supabase.co/rest/v1/subsidies?select=id,title,region&is_active=eq.true&region=not.cs.{\"\"National\"\"}'' -Headers $headers\nWrite-Host ''Regional subsidies:'' $regional.Count\n\")",
      "Bash(powershell -Command \"\n$headers = @{\n    ''apikey'' = ''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imd2Zmd2Ynp0YWdhZmp5a25jd3RvIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc0ODcwODE3MywiZXhwIjoyMDY0Mjg0MTczfQ.j3KEkFJLrDKbmyCHPPHW67zjzMlua4Gff4hzvqW_LZY''\n    ''Authorization'' = ''Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imd2Zmd2Ynp0YWdhZmp5a25jd3RvIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc0ODcwODE3MywiZXhwIjoyMDY0Mjg0MTczfQ.j3KEkFJLrDKbmyCHPPHW67zjzMlua4Gff4hzvqW_LZY''\n    ''Prefer'' = ''count=exact''\n}\n\nWrite-Host ''Querying Supabase...''\n\n# Total active\n$response = Invoke-WebRequest -Uri ''https://gvfgvbztagafjykncwto.supabase.co/rest/v1/subsidies?select=id&is_active=eq.true'' -Headers $headers -UseBasicParsing\nWrite-Host ''Total active:'' $response.Headers[''Content-Range'']\n\n# National\n$response2 = Invoke-WebRequest -Uri ''https://gvfgvbztagafjykncwto.supabase.co/rest/v1/subsidies?select=id&is_active=eq.true&region=cs.{%22National%22}'' -Headers $headers -UseBasicParsing\nWrite-Host ''National:'' $response2.Headers[''Content-Range'']\n\n# Regional\n$response3 = Invoke-WebRequest -Uri ''https://gvfgvbztagafjykncwto.supabase.co/rest/v1/subsidies?select=id&is_active=eq.true&region=not.cs.{%22National%22}'' -Headers $headers -UseBasicParsing\nWrite-Host ''Regional:'' $response3.Headers[''Content-Range'']\n\")",
      "Bash(powershell -Command \"\n$headers = @{\n    ''apikey'' = ''sb_secret_XVNRlU9NJmxoCsTCTiO3dQ_4huj6Hqn''\n    ''Authorization'' = ''Bearer sb_secret_XVNRlU9NJmxoCsTCTiO3dQ_4huj6Hqn''\n    ''Prefer'' = ''count=exact''\n}\n\nWrite-Host ''Querying with secret key...''\n\n$response = Invoke-WebRequest -Uri ''https://gvfgvbztagafjykncwto.supabase.co/rest/v1/subsidies?select=id&is_active=eq.true'' -Headers $headers -UseBasicParsing\nWrite-Host ''Total active:'' $response.Headers[''Content-Range'']\n\n$response2 = Invoke-WebRequest -Uri ''https://gvfgvbztagafjykncwto.supabase.co/rest/v1/subsidies?select=id&is_active=eq.true&region=cs.{%22National%22}'' -Headers $headers -UseBasicParsing\nWrite-Host ''National:'' $response2.Headers[''Content-Range'']\n\n$response3 = Invoke-WebRequest -Uri ''https://gvfgvbztagafjykncwto.supabase.co/rest/v1/subsidies?select=id&is_active=eq.true&region=not.cs.{%22National%22}'' -Headers $headers -UseBasicParsing\nWrite-Host ''Regional:'' $response3.Headers[''Content-Range'']\n\")",
      "WebFetch(domain:supabase.com)",
      "Bash(powershell -Command \"\n$headers = @{\n    ''Authorization'' = ''Bearer sbp_b42ecc4db1f7e83591427c2f8ad4e9d515d7c4b4''\n    ''Content-Type'' = ''application/json''\n}\n\n$body = @{\n    query = ''SELECT COUNT\\(*\\) as total FROM subsidies WHERE is_active = true''\n} | ConvertTo-Json\n\n$response = Invoke-RestMethod -Uri ''https://api.supabase.com/v1/projects/gvfgvbztagafjykncwto/database/query'' -Method POST -Headers $headers -Body $body\n$response | ConvertTo-Json\n\")",
      "Bash(powershell -ExecutionPolicy Bypass -File d:/GitHub/masubventionpro/query-db.ps1)",
      "WebFetch(domain:www.aides-entreprises.fr)",
      "WebFetch(domain:www.bpifrance.fr)",
      "Bash(powershell -ExecutionPolicy Bypass -Command \"$headers = @{ ''Authorization'' = ''Bearer sbp_b42ecc4db1f7e83591427c2f8ad4e9d515d7c4b4''; ''Content-Type'' = ''application/json'' }; $body = @{ query = ''SELECT id, title, agency, source_url FROM subsidies WHERE is_active = true AND is_universal_sector = true AND \\(deadline IS NULL OR deadline >= CURRENT_DATE\\) ORDER BY agency, title LIMIT 20'' } | ConvertTo-Json; $r = Invoke-RestMethod -Uri ''https://api.supabase.com/v1/projects/gvfgvbztagafjykncwto/database/query'' -Method POST -Headers $headers -Body $body; Write-Host ''Count:'' $r.Count; $r | ConvertTo-Json -Depth 3\")",
      "Bash(powershell -ExecutionPolicy Bypass -File query-db.ps1:*)",
      "WebFetch(domain:www.les-scop.coop)",
      "WebFetch(domain:www.ameli.fr)",
      "WebFetch(domain:www.bourgognefranchecomte.fr)",
      "WebFetch(domain:guide-aides.hautsdefrance.fr)",
      "WebFetch(domain:www.laregion.fr)",
      "WebFetch(domain:www.urssaf.fr)",
      "WebFetch(domain:www.reseau-entreprendre.org)"
    ],
    "additionalDirectories": [
      "d:\\GitHub\\masubventionpro\\.claude"
    ]
  },
  "mcpServers": {
    "supabase": {
      "command": "npx",
      "args": [
        "-y",
        "@modelcontextprotocol/server-postgres",
        "postgresql://postgres.gvfgvbztagafjykncwto:z42917XNAxzOog7m@aws-0-eu-central-1.pooler.supabase.com:6543/postgres"
      ]
    }
  }
}
